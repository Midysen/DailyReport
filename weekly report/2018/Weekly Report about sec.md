# 2018-12-03 〜 2018-12-07
深入学习了shim的工作原理，，及自签名程序的方法，在没有安装专用PK的机器上，通过shim成功走通了secureboot的标准流程，已经能正常启动OPENTHOS。  
学习了dm-verity的底层所需要用到的dm mapper的相关知识，并在linux环境下做了dm-mapper的相关实验。  
学习了dm-verity的hash表是怎么生成的，镜像在如何生成的。  

# 2018-11-26 〜 2018-11-30
OTO2复验完成，OREO的总结完成。
UEFI方面，本周学习了Shim0.2及15的源码，大致弄清了shim进行secureboot的思路

# 2018-11-19 〜 2018-11-23
OTO2基本复验完成，OREO的总结基本完成。

# 2018-11-12 〜 2018-11-16
复验黄志传关于Ubuntu1804上开发环境的情况。其中部分内容可以因为志伟本身非常熟悉的原因，列的不是非常详细。补充查找资料后已经解决。
相关中间调试过程的报错信息已经截图。  
Oreo已经完全验完，OTO2大部分已经完成！  

# 2018-11-05 〜 2018-11-09
1604上调试

# 2018-10-29 〜 2018-11-2
从头搭建开发环境，复验可以编译最新系统的环境。
因最OTO2.0最新版本与1.0软件组件有了比较大的变化，遇到一些列编译上的问题，正在逐一排除

# 2018-10-22 〜 2018-10-26
本周经测试确认：
1. 内核4.19  
2. mesa 18.1
3. llvm60
4. 本机编译环境非docker  
可以编译出可以在AMD平台上工作的openthos 2.0  

# 2018-10-15 〜 2018-10-19
以张善民版本的内核，配合Mesa18.1进行调试，经调试后与志伟确认缺一个patch，补足后，
能启动到LOGO。但该版本内核会导致系统重启  

以志伟4.18内核，启动后AMDGPU无法正常工作。 
需要进一步分析确认  

# 2018-10-08 〜 2018-10-12
显示问题已经定位，系5.1系统中的带的编译器问题，需要改bfd格式  

# 2018-09-25 〜 2018-09-30
OTO2.0上尝试移植，发现该环境上编译出的4.18版本内核启动无显示  
后通过二分法，确认到从4.17切入4.18-rc1时出现该问题，下一步将定位是哪个模块导致。  

# 2018-09-17 〜 2018-09-21
OTO8.1上使用kernel.org上的4.18.8版本移植成功

# 2018-09-10 〜 2018-09-14
研究Openthos支持AMD Ryzen, OTO8.1已经初步启动  

# 2018-09-03 〜 2018-09-07
研究AMD CPU在Linux下的支持情况，经测试，大部分Ker4.17+Mesa18.1以上的发行版支持良好。

# 2018-08-27 〜 2018-08-31
8.1版本系统的安装程序及引导脚本改进，之前版本的系统不能正常启动liveusb，现已经改进完成  
协助测试组进行了一些故障排除工作  
按刘总指示，开始研究AMD上跑gentoo  

# 2018-08-20 〜 2018-08-24
修改Xposed编译脚本，实现系统分区大小自动计算  
张琳苹docker环境出现问题，编译出的xposed系统不正常，协助解决  
研究aosp自带的reovery代码  

# 2018-08-13 〜 2018-08-17
xposed＿installerAPK修改，去掉错误信息，修改版权信息，/data权限问题修改，完成并测试通过

# 2018-08-06 〜 2018-08-10
-修改安装程序以适应各种硬盘：包括安装分区命名规范、UEFI安全启动、分区校验，测试通过
-xposed＿installerAPK修改  

# 2018-07-30 〜 2018-08-03
修改安装程序以适应各种硬盘：包括安装分区命名规范、UEFI安全启动、分区校验，代码完成待测试  
安装新系统时可选择不清空data（0615）经过测试可以通过手动安装解决。 

# 2018-07-23 〜 2018-07-27
- 修改安装程序以适应各种硬盘：包括安装分区命名规范、UEFI安全启动、分区校验，分析方案完成
- 安装新系统时可选择不清空data（0615）
- user版编译后出现应用缺失(0723)------------------100%

# 2018-07-16 〜 2018-07-20
解决受软件所冲突的预装有F11复位功能。  

# 2018-07-09 ~ 2018-07-13
研究新的预装方法  

# 2018-07-02 ~ 2018-07-06
协助曹永韧组解决权限管理器安装后立即可用问题，已经集成测试并提交  
测试新logo集，测试效果良好，并已提交  
查找浏览器升级后，xposed版系统不正常的问题，已解决，并经测试后提交  

# 2018-06-25 ~ 2018-06-29
研究启用加密功能后的应用预装问题，已经手工创建安装盘解决，待集成测试并提交  
研究曹永韧权限管理器安装后无须重启立即可用的问题，已经解决，待提交  

# 2018-06-19 ~ 2018-06-22
绘制boto所缺的主题logo, 已经完成

# 2018-06-11 ~ 2018-06-15
修改安装程序以适应各种硬盘，70%完成
绘制boto所缺主题logo， 30%完成

# 2018-06-04 ~ 2018-06-08
UEFI可信引导，做了UI相关研究  
recovery， 已经与刘敬彬核对确认了解决方案  

# 2018-05-28 ~ 2018-06-01
分析解决Xposed集成与分区加密冲突导致的系统无法重置问题， 原因已经分析清楚，并给出了解决方案  
协助OTA升级改为与kernel验签相同的证书上，50%  
升级mesa18后测试amd机器的兼容性，经测试4.15.17以后内核可以美支持运行linux  
基于NVME硬盘启动， 已经解决

# 2018-05-21 ~ 2018-05-25
1.  解决了OPENTHOS在NVME硬盘上的使用问题  
2.  解决了OPENTHOS在高速环境下，由到执行速度过快，导致未来得及识别硬盘的问题  
3.  确认了深海幽灵Z2的故障原因，并已经与笔记本研发团队沟通，并请协助解决  
4.  确认了安装程序的缺陷，将于下一周解决  

# 2018-05-14 ~ 2018-05-18
1. 任务分析解决在8代i7及NVME硬盘上布署OPENTHOS：机械革命S1上已经完成部署；Z2笔记本上确认了4.15及Mesa18可以正常工作，但由于那台设备本身存在一此故障，目前由刘老师协调换机中  
2. 任务分析并解决S1上出现的偶发找不到硬盘的BUG，已经解决  
3. 任务分析使用Gmssl来进行OTA升级，现已经协调软件所及王之旭进行了相关沟通，对各方工作进行了初步明确  

# 2018-05-07 ~ 2018-05-12
学习了平台移植的一些相关知识   
在AMD Ryzen平台上进行了4.15内核的一些测试  
针对Xposed实现了升级包制作的实用程序  
针对8代i7做了一些Linux相关的基础分析及测试，经周末加班一天，确认Ubuntu18.04可以完美支持8代i7，初步确认OPENTHOS可以正常工作于8代i7 CPU上。    
对同方笔记本进行了BIOS的详细剖析，以期望能在该8代i7机器上通过关闭一些CPU feature来运行Ubuntu16.04，经全面检查BIOS确认该机器未实现相关接口。  

# 2018-05-02 ~ 2018-05-04
配合张善民、曹永韧针对Xposed环境下一些应用会闪退作了一些测试，及相关的分析，最后确实是任务管理器导致了应用的退出。

# 2018-04-23 ~ 2018-04-28
与肖络元、张善民配合解决Xposed在4.15内核上不能启动的问题  

# 2018-04-16 ~ 2018-04-20
Xposed预装整合，已经完成  
配合软件所工作  
配合张善民做一些内核测试  

# 2018-04-8 ~ 2018-04-14
配合软件所做Boto集成，已经与初工沟通清楚接口  
与陈康老师申威项目组配合分析BUG. 讨论之后经志鹏那调整，目前代码已经能运行，之前的BUG原因还需要进一步分析。  
与晓旭及永韧进行一些探讨

# 2018-04-02 ~ 2018-04-04
继续配合张善民、黄志传进行新版本内核的工作  
推动软件所项目  

# 2018-03-26 ~ 2018-03-30
分析静态IP无法保存的原因，已经完成  
为适配新版本内核升级了xposed  

# 2018-03-19 ~ 2018-03-24
学习了解alpha平台情况  
协助罗浩、曹永韧分析关联启动管理  

# 2018-03-12 ~ 2018-03-16
出差江南所了解申威开发情况

# 2018-01-08 ~ 2018-01-12
完成了Botan在aosp8.1上的移植

# 2018-01-02 ~ 2018-01-05   
1. 在OPENTHOS1.0上，通过测试发现，OPENTHOS1.0不支持C++11  
2. 切换到aosp8.1继续尝试Botan的移植，通过各种跳坑，目前可以完成了.so库文件的编译  
下周需要移植编译测试用例  

# 2017-12-25 ~ 2017-12-29  
1. 进行Xposed的一些相关测试  
2. 开展了Botan到OPENTHOS的移植。
* 学习了Android.mk的编写规则  
3. 对gnupg工具，按照刘总的实际使用需求，进行了一些诸如KEY及文件权限方面的修正  

# 2017-12-18 ~ 2017-12-22  
1. 跟随黄志伟先生学习Android-x86移植相关信息  
2. 完成xposed到X86_64平台的移植  

# 2017-12-11 ~ 2017-12-15  
1. OTA升级更新到发行版本及测试版本不同密钥的体系  
2. XPosed到Openthos1.0的移植：  
* 合并了代码（共进行了两次，目前完成了art目录的合并，第一次合并时通过openthos与aosp原生版本差异强制合并到了Xposed_art中，后发现出现了大量错误。
第二次半手工，将Xposed_art与AOSP原生版本的差异合并到了OPENTHOS，通过手工合并检查发现，diff默认出来的patch不包含某一方的单方面出现的文件）  
* 合并art文件夹后的尝试编译xposed相关目标，make -j4 TARGET_CPU_SMP=true xposed libxposed_art libart libart-compiler libart-disassembler libsigchain dex2oat oatdump patchoat，经过编译过程中简单的调整，全部目标中除xposed全部编译通过。  

下一步， 需要修改frameworks/base/cmds/xposed的文件。  理论上xposed目标能够通过编译，即能生成Xposed for OPENTHOS的安装包  

# 2017-12-04 ~ 2017-12-08   
1. 掌握了XPosed的编译方法，在aosp原生x86版本上得到验证  
2. 为XPosed增加了x86_64支持，在aosp原生x86_64代码中编译成功并验证通过  
3. 配合对OTA升级做了进一步的测试及修订  

# 2017-11-27 ~ 2017-12-01  
1. 新加在的最高优先级的文件签名及验证。工具编译完成，并集成了system.sfs镜像中。补丁已经提交！  
2. Xposed，已经搞清了如何在没有Xposed的情况下安装Xposed，脚本已经改完。因官方release没有编译Lib64，现正在学习如何在aosp 5.1.1下编译Xposed  
3. 为基于8.0的OPENTHOS开启了bootchart, 初步判断启动时间过长可能是/system/bin/mdnsd引起的。  

# 2017-11-20 ~ 2017-11-24
实际结果：  
1. 成功实现了QEMU的的brdige网络，qemu运行ubuntu测试，方法OK。 emlator的程序中强制要使用nat，否则拒绝启动，这一点在google相关网页中得到印证，不允许改qemu的-net参数。  
2. 因出差延期到下周  
3. 成为搭建，报告通过邮件发送的  
4. 因出差及其他任务的优先级，暂停  

工作计划调整按优先级:  
1. 解决2.0版本 emulator网络从NAT到bridge的转换  
2. 确认开机时的服务长时间ANR的故障归属问题，是Linux层面还是Android层面  
3. 学习从头搭建自动化测试全套内容，并整理成报告  
4. 解决完上周遗留的控件触发问题  


# 2017-11-13 ~ 2017-11-17
根据测试组的需求，研究解决Wifi自动测试的方法。  
目前现状：  
* 自动关闭有线成功（可替代以前的拔网线物理动作）  
* 自动打开有线成功（可替代以前的插网线物理动作）  
* 自动关闭wifi成功（用于替代以前的鼠标操作）  
* 测试系统自动重新连接被测机的有线成功（可以继续执行后续其他测试用例及收集wifi测试结果）  

待完成项：  
* 自动设置wifi的密码的测试代码调试过程中，（控件嵌套层次过多，正在研究怎么找到最里层的标oslab的wifi)  


# 2017-11-06 ~ 2017-11-10
1. Appium服务器在Windows及Linux上都完成了试安装。现可以实现Win环境、linux环境上向本身连接Connect的device安装包并启动调试过程，也可以实现相对方所连接的device上安装包并启动调试过程。相关安装过程已经生成了history.txt，下一步需要进一步整理说明，百度而来的各种教程，不能成功的点有哪些。
2. 对adb.exe的一些用法进行了梳理，正在撰写图文并茂的说明文档。
3. 对同方工厂的需求变更进行了进一步地跟踪与适配。

# 2017-10-31 ~ 2017-11-03
工厂工具测试  
工厂测试过程中相关交流  
学习自动化测试，已经初步入门了UiAutomator工具  

# 2017-10-23 ~ 2017-10-27
工厂基于PE的工具，基本完成，本周主要解决了PE命令行缺陷带来的问题:  
* 部分gnu工具win版在正常windows的cmd下输出正常，而pe下不正常  
* 主流的分区表备份工具要么不能在pe下工作，要么不具cmd非交互式运行功能  
+ 因此研究了gpt分区格式  
+ 移植了dd cut grep gdisk等一系列gnu 工具到x64 pe环境  
* 与bios团队配合解决了自动识别boto的问题  
 
# 2017-10-16 ~ 2017-10-20
同方多种台式机样机完成测试，除PCIE SSD不兼容外，未发现其他与新Intel平台相关的严重兼容性问题  
工厂基于PE的工具，经过测试e，已经可以实现PE包定制  e
已经可以往PE包中以非微软cab包的形式往PE中添加第三方软件  
PE包中集成了aomei disktool，可以正常运行  
搞清了aomei disktool如何以命令行的方式与系统其他部分集成  

# 2017-10-09 ~ 2017-10-13
解决同方销售体系统在新平台上制作样机的需求  
开始着手制作产线需要的一些工具，经过邮件沟通，决定先尝试基于Windows PE的工具。正在尝试制作Windows PE包，基本版本已经成功，正在往里面加explorer及相关工具。  
与肖络元配合处理电视代码编译及烧写的问题，目前已经能正常烧写，显示及电视软件功能正常，遥控器可用，但按键板工作不正常  

# 2017-09-25 ~ 2017-09-30
无锡出差，协助工厂调试在工厂机器上的安装方案   
详细了解产线生产过程  
与肖络元配合处理电视代码编译的问题  

# 2017-09-18 ~ 2017-09-22
AOSP中关于update进行了进一步的研究，见https://github.com/openthos/system-analysis/blob/master/make-build/Android%E5%8E%9F%E7%94%9F%E6%9B%B4%E6%96%B0%E6%96%B9%E6%A1%88.md  
准备了无锡出差的相关资料  

# 2017-09-11 ~ 2017-09-15
对fallback不当代码的patch进行了验证，并提交
研究aosp中关于update的内容
并部分整理了相关说明, 见https://github.com/openthos/system-analysis/blob/master/make-build/AOSP%E4%B8%AD%E7%9A%84OTA%E5%8D%87%E7%BA%A7.md

# 2017-09-04 ~ 2017-09-08
修复安装程序种关于fallback的不当代码  
修复新出现的fallback启动项乱了的问题  
以PCMARK等程序为例测试SWAP开启后进行系统的性能测试  
查询资料，研究android开启swap  
读UEFI规范，原理上验证软件所技术细节的可行性  

# 2017-08-28 ~ 2017-09-01
1. 与软件所讨论基于OPENTHOS系统实施可信计算的方案的实施细节
2. 更新OPENTHOS安装方案
3. 研究升级程序加入对ESP下引导程序更新的方案

# 2017-08-21 ~ 2017-08-25  
1. 研究了kernelflinger中关于可信验证的部分内容  
2. 修复了系统升级不能升级内核的问题  

# 2017-08-14 ~ 2017-08-18
1. 与软件所讨论制定了OPENTHOS系统实施可信计算的方案
2. 与王之旭协同研究了手动升级的问题

# 2017-08-07 ~ 2017-08-11
1. 对王建兴交接的内容进行了进一步消化

# 2017-07-31 ~ 2017-08-04
1. 整理了用于网站的开发入门手册
2. 对王建兴交接的事项进行了验证

# 2017-07-24 ~ 2017-07-28
1. 完成了F11的中英文双语提示
2. 同马青青、刘馨一起策划了基于github.io的openthos网站。 基于bootstrap构架。
3. 开始整理开发相关文档
4. 处理与王建兴的部分工作交接事宜
# 2017-07-17 ~ 2017-07-21
请假
# 2017-07-10 ~ 2017-07-14
F11问题处理告一段落，涉及到的主要有：  
1. BMP文件的解析，24位、32位、16位。限制：256色目前未支持，压缩格式尚不支持，565格式的16位图片不支持。
2. Framebuffer的使用，目前经过处理可以使用16位、24位、及32位framebuffer
3. 建立键盘检测机制，显示提示图版后需要用户先后按y及x才能继续。在linux中没有实现类似函数kbhit()。而标准的输入机制却要回车后才能读取键盘输入，这个逻辑是不正确的  
交接事宜，王建兴已经整理了一些文档
# 2017-07-03 ~ 2017-07-07
1. 继续处理F11的问题
2. 解决网络故障问题
3. 开始与王建兴的交接工作
# 2017-06-26 ~ 2017-06-30
F11 提示，已经可以对frame buffer进行读写。 
bmp图片已经能解析  
存在不同分辨率的适配问题需要进一步处理，还有一个闪烁需要处理  
王建兴本周系统主要配合解决问题。 

# 2017-06-19 ~ 2017-06-23  
1. 与苏州同事进一步沟通背光问题确认29日与英特沟通背光问题。将于28日跟进提醒一次。  
2. 解决boto f11问题，本周已解决提示及交互，刘总新提出要以中文提示，需进一步改进！
 
# 2017-06-12 ~ 2017-06-16 工作总结
本周首要任务经过调整，主要进行了
1. 调研休眠失败后背光无法调节的原因，本项工作已经完成调研。T43/45笔记本确有BIOS方面的瑕疵
2. 对dm-verify及基于文件的verify进行调研，得出关于dm-verify的初步结论。关于android n上特别之处需要进一步调研

# 2017-06-05 ~ 2017-06-08 工作总结及
在与王建兴的相互配合及讨论分析下
1. XPosed在Android M上，已经能够跑起基本功能
2. 对XPosed的基本运作原理，从XPOSE框架是如何被加载的，到基本的钩子是如何工作的，已经有了初步的了解
3. 相关文档正在整理  
下一目标，是在Android M实现完整的Xposed.

# 2017-05-31 ~ 2017-06-02 工作总结
1. 调研了XPOSED现状  
   ROVO89已经有近1年没有维护github上XPOSED的相关代码，且据其个人声明，Nougat上的Xposed，有在研究，但无明确日程。  
2. 分析了XPOSED在Android 7.0+上的支持情况  
   现状无正式支持
3. 计划展开XPOSED的Android 7.0+自主开发工作，据此向下调研了XPOSED在Android 6.0下的情况
   目前，XPOSED官方代码在Android 6.0 ARM版本运作良好，另外多方大神释出过专有设备上的X86(32位)发行包。
4. Down回了Android X86 6.0版本源码，并开始在此基础的XPOSED移植学习

5. 另。对Windows版本的OPENTHOS安装工具进行了内存稳定性等方面的基础测试，测试通过，已经提交测试组进一步测试。源码开放在https://github.com/chanuei/OpenThosInstallerUnderWindows.git

# 2017-05-22 ~ 2017-05-26 工作总结  
1. 完成4种机型的同方机器的备份恢复测试。  
   * 备份工具的选型及初始启动U盘的制作（陈威）  完成  
   * 在开源工具的基础上扩展uefi启动选项的备份恢复功能（王建兴）  完成  
   * 四种机型的镜像生成工作（王建兴、陈威）  工具可以对任意支持UEFI启动并正确处理UEFI启动引导项的X86_64机器进行备份及恢复  完成  
   * 复验工作（系统组，具体人员由刘明明指定）  截止到写周报时，测试组已经测试完两种机型, 且正在进行其它机型的测试  
2. 完成Windows平台的OPENTHOS安装APP（陈威）  遇到一些困难，但基本已经克服，假期内加班进行清尾  

# 2017-05-22 ~ 2017-05-26 工作计划  
1. 完成4种机型的同方机器的备份恢复测试。  
   * 备份工具的选型及初始启动U盘的制作（陈威）  
   * 在开源工具的基础上扩展uefi启动选项的备份恢复功能（王建兴）  
   * 四种机型的镜像生成工作（王建兴、陈威）  
   * 复验工作（系统组，具体人员由刘明明指定）  
2. 完成Windows平台的OPENTHOS安装APP（陈威）  

# 2017-05-15 ~ 2017-05-19 工作总结
## 陈威
### 本周
1. 清尾了，U盘的/data分区基于overlayfs的加速技术
2. 开始了基于Windows的OPENTHOS安装APP开发。
  * 拟定了APP的原理
  * 目前主要的工作量集中在EFI的NVRAM读写
  * 正在完成相关API调用在C#下的导入
3. 通过邮件及微信等渠道，对同事们遇到的问题进行了探讨
### 下周
完成基于Windows的OPENTHOS安装APP开发

## 王建兴
### 本周
因刚最终确认，王建兴部分时间归sec组，暂未指定工作
### 下周
拟指派：
1. 完成基于Linux的UEFI的启动项目备份与恢复工具的开发


